<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

        <title>STAIRS heatmap - demo</title>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.3/p5.js"></script>
	<script src="js/graphix.js"></script>

        <script>

	hm = new Heatmap()
	gradient = new HGradient()


data = [
"100	100	100	100	100",
"99.28	98.13	98.92	99.71	99.61",
"99.07	99.21	99.21	99.85	99.21",
"98.38	98.66	99.51	99.41	99.01",
"98.23	98.32	99.31	98.96	98.81",
"97.76	97.87	98.81	99.85	99.6",
"96.08	98.5	99.1	99.55	99.8",
"95.57	97.79	98.8	98.51	99.4",
"95.1	95.75	97.71	98.51	98.8",
"93.66	95.9	98.09	99.24	97.81",
"92.23	93.61	97.2	99.54	98.79",
"87.93	93.25	96.5	98.5	99.39",
"84.84	92.01	95.66	98.18	96.6",
"82	88.49	94.59	96.98	96.59",
"79.56	87.06	94.47	95.47	97.78",
"77.39	85.33	93.14	94.71	95.76",
"75.49	83.38	91.43	94.1	94.58",
"73.86	79.44	90.81	93.5	94.35",
"69.84	77.85	90.6	92.87	94.14",
"68.65	76.91	88.45	91.95	92.49",
"66.93	74.15	86.89	91.6	94.3",
"65.03	71.54	85.52	90.8	93.48",
"63.68	70.31	83.33	90.88	92.65",
"62.41	67.99	83.93	88.97	91.19",
"61.28	67.91	80.51	88.8	90.84",
"59.93	66.05	80.67	85.36	90.95",
"59.03	65.96	79.73	86.27	88.84",
"58.49	64.13	77.55	85.01	89.67",
"56.31	62.56	76.86	85.58	88.25",
"57.05	62.65	75.08	83.59	86.63",
"55	61.38	75.7	82.15	87.01",
"54.06	60.3	72.39	80.86	83.13",
"53.85	60.24	70.7	80.56	82.55",
"52.49	57.83	71.65	78.09	80.86",
"52.05	57.7	69.46	75.35	81.37"
]


	layout = new Layout(0,0)
	layout.add(
		{
			component: hm,
			position: {x: 0, y: 0},
			size: {width: 400, height: 400}

		}).add({
			component: gradient,
			position: {x: 400, y: layout.region.length * 400 + 20}, 
			size: {width: 100, height: 20}
		})



	function fillHeatmap(){
		for (row = 0; row<data.length; row++){
			rdata = data[row].split('\t')
			for (col=0; col < rdata.length; col++)
				hm.addScore(col, row, parseFloat(rdata[col]))
		}
	}

         function setup(){
           createCanvas(1500,900);
           background(255);
           stroke(1)

	   fillHeatmap()

         }

         function draw(){
           layout.update()
         }

	</script>

    </head>

<body>
</body>


